# é›¢ç·šé‹è¡Œæ¸¬è©¦æŒ‡å—

## âœ… å·²å®Œæˆçš„ä¿®å¾©

### 1. **main.js ç°¡åŒ–**
- âŒ ç§»é™¤ï¼š`import` èªæ³•ï¼ˆéœ€è¦ ES modulesï¼‰
- âŒ ç§»é™¤ï¼šå¤–éƒ¨ä¾è³´ `errorHandler.js`ã€`MainLayout.vue`
- âœ… æ”¹ç‚ºï¼šå…§è¯è·¯ç”±å®šç¾©
- âœ… æ”¹ç‚ºï¼šç´” JavaScriptï¼ˆç„¡ importï¼‰

### 2. **index.html ç°¡åŒ–**
- âŒ ç§»é™¤ï¼š`type="module"` çš„ errorHandler import
- âœ… æ”¹ç‚ºï¼šå…§è¯éŒ¯èª¤è™•ç†ï¼ˆwindow.addEventListenerï¼‰
- âœ… ä¿ç•™ï¼šæ‰€æœ‰æœ¬åœ°åº«å¼•ç”¨ï¼ˆpublic/libs/ï¼‰

---

## ğŸ§ª æ¸¬è©¦æ­¥é©Ÿ

### æ–¹æ³• 1ï¼šç›´æ¥æ‰“é–‹ï¼ˆæœ€ç°¡å–®ï¼‰
```bash
# 1. ä¸‹è¼‰æ•´å€‹ repo
git clone https://github.com/maotai11/Accountoffline-.git
cd Accountoffline-

# 2. ç¢ºä¿æœ‰é€™äº›æª”æ¡ˆï¼š
# - index.html
# - src/main.js
# - public/libs/ (å¦‚æœæ²’æœ‰ï¼ŒåŸ·è¡Œä¸‹ä¸€æ­¥)

# 3. ä¸‹è¼‰å¿…è¦çš„ JS åº«ï¼ˆéœ€è¦ç¶²è·¯ï¼Œä½†åªéœ€åŸ·è¡Œä¸€æ¬¡ï¼‰
python3 download_libs.py

# 4. ç›´æ¥æ‰“é–‹ index.htmlï¼ˆç„¡éœ€ä¼ºæœå™¨ï¼‰
open index.html  # macOS
# æˆ–é›™æ“Š index.html
```

### æ–¹æ³• 2ï¼šæœ¬åœ°ä¼ºæœå™¨ï¼ˆæ¨è–¦ï¼‰
```bash
# Python 3
python3 -m http.server 8000

# ç„¶å¾Œè¨ªå•ï¼š
http://localhost:8000
```

---

## ğŸ¯ é æœŸçµæœ

### âœ… æˆåŠŸå•Ÿå‹•çš„æ¨™èªŒï¼š
1. **ä¸æœƒåœåœ¨ã€Œç³»çµ±å•Ÿå‹•ä¸­...ã€**
2. **çœ‹åˆ°å´é‚Šæ¬„**ï¼š
   - ğŸ’¼ æœƒè¨ˆå…§æ§ç³»çµ±
   - ğŸ“Š å„€è¡¨æ¿
   - ğŸ–¼ï¸ OCR æ‰¹é‡è­˜åˆ¥
3. **Console é¡¯ç¤º**ï¼š
   ```
   âœ… Vue å·²è¼‰å…¥
   âœ… VueRouter å·²è¼‰å…¥
   âœ… Pinia å·²è¼‰å…¥
   âœ… æ‡‰ç”¨å·²æˆåŠŸæ›è¼‰ï¼ˆç°¡åŒ–ç‰ˆ - ç„¡å¤–éƒ¨ä¾è³´ï¼‰
   ```

### âŒ å¦‚æœå¤±æ•—ï¼š
æª¢æŸ¥ Console æ˜¯å¦æœ‰ä»¥ä¸‹éŒ¯èª¤ï¼š
- `Vue is not defined` â†’ Vue åº«æœªè¼‰å…¥
- `Cannot find module` â†’ é‚„æœ‰å¤–éƒ¨ä¾è³´æœªç§»é™¤
- `CORS error` â†’ éœ€è¦ç”¨æœ¬åœ°ä¼ºæœå™¨ï¼ˆæ–¹æ³• 2ï¼‰

---

## ğŸ“¦ å¿…è¦æª”æ¡ˆæ¸…å–®

### æ ¸å¿ƒæª”æ¡ˆï¼ˆå¿…é ˆå­˜åœ¨ï¼‰ï¼š
- âœ… `index.html`
- âœ… `src/main.js`

### ä¾è³´åº«ï¼ˆå¿…é ˆåœ¨ `public/libs/`ï¼‰ï¼š
```
public/libs/
â”œâ”€â”€ vue.global.prod.js          # Vue 3
â”œâ”€â”€ vue-router.global.prod.js   # Vue Router
â”œâ”€â”€ pinia.iife.prod.js          # Pinia
â”œâ”€â”€ decimal.min.js              # Decimal.js
â”œâ”€â”€ dayjs.min.js                # Day.js
â”œâ”€â”€ lodash.min.js               # Lodash
â”œâ”€â”€ dexie.min.js                # Dexie (IndexedDB)
â”œâ”€â”€ xlsx.full.min.js            # Excel è™•ç†
â”œâ”€â”€ exceljs.min.js              # ExcelJSï¼ˆæ–°å¢ï¼‰
â””â”€â”€ ... (å…¶ä»– 30+ å€‹æª”æ¡ˆ)
```

**å¦‚æœé€™äº›æª”æ¡ˆä¸å­˜åœ¨**ï¼ŒåŸ·è¡Œï¼š
```bash
python3 download_libs.py
```

---

## ğŸš¨ é—œéµæ”¹å‹•èªªæ˜

### ç‚ºä»€éº¼å¡åœ¨ã€Œç³»çµ±å•Ÿå‹•ä¸­ã€ï¼Ÿ
**åŸå› **ï¼š`src/main.js` ä½¿ç”¨äº† `import` èªæ³•ï¼š
```javascript
// âŒ åŸç‰ˆï¼ˆæœƒå¤±æ•—ï¼‰
import router from './router/index.js';
import MainLayout from './layouts/MainLayout.vue';
```

**å•é¡Œ**ï¼š
1. `./router/index.js` åˆ import å…¶ä»–æª”æ¡ˆ â†’ ä¸²é€£å¤±æ•—
2. `.vue` æª”æ¡ˆéœ€è¦ç·¨è­¯å™¨ â†’ ç€è¦½å™¨ç„¡æ³•ç›´æ¥åŸ·è¡Œ
3. ES modules éœ€è¦ä¼ºæœå™¨æ”¯æ´ï¼ˆfile:// å”è­°æœ‰é™åˆ¶ï¼‰

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
```javascript
// âœ… æ–°ç‰ˆï¼ˆç°¡åŒ–ï¼‰
const { createApp } = Vue;
const { createRouter, createWebHashHistory } = VueRouter;

// è·¯ç”±ç›´æ¥å…§è¯å®šç¾©
const routes = [ /* ... */ ];
const router = createRouter({ /* ... */ });

// æ‡‰ç”¨æ¨¡æ¿ç›´æ¥å…§è¯
const app = createApp({
  template: `<div>...</div>`
});
```

---

## ğŸ“ ä¸‹ä¸€æ­¥å»ºè­°

### å¦‚æœæ¸¬è©¦æˆåŠŸï¼š
1. âœ… ç³»çµ±å¯ä»¥é›¢ç·šé‹è¡Œäº†ï¼
2. ğŸ“¦ å¯ä»¥æ‰“åŒ…æˆ ZIPï¼Œåˆ†äº«çµ¦åŒäº‹
3. ğŸ”§ ç¹¼çºŒé–‹ç™¼ `BatchOCRProcessor.vue` ç­‰åŠŸèƒ½çµ„ä»¶

### å¦‚æœé‚„æœ‰å•é¡Œï¼š
1. æª¢æŸ¥ Console éŒ¯èª¤è¨Šæ¯
2. ç¢ºèª `public/libs/` ç›®éŒ„æœ‰æ‰€æœ‰æª”æ¡ˆ
3. ä½¿ç”¨æœ¬åœ°ä¼ºæœå™¨è€Œéç›´æ¥æ‰“é–‹ HTML

---

## ğŸ’¡ æŠ€è¡“åŸç†

**ç‚ºä»€éº¼é€™æ¨£æ”¹å°±èƒ½é›¢ç·šé‹è¡Œï¼Ÿ**

| åŸç‰ˆï¼ˆè¤‡é›œï¼‰ | æ–°ç‰ˆï¼ˆç°¡åŒ–ï¼‰ |
|------------|------------|
| ES modules (`import`) | å…¨å±€å°è±¡ (`Vue`, `VueRouter`) |
| å¤–éƒ¨ `.vue` æª”æ¡ˆ | å…§è¯ `template` å­—ä¸² |
| ä¸²é€£å¤šå€‹æª”æ¡ˆ | å–®ä¸€æª”æ¡ˆè‡ªåŒ…å« |
| éœ€è¦ç·¨è­¯å™¨ | ç€è¦½å™¨ç›´æ¥åŸ·è¡Œ |
| CDN ä¾è³´ | æœ¬åœ° `public/libs/` |

**æ ¸å¿ƒæ€æƒ³**ï¼š
- Vue 3 å¯ä»¥ç”¨ `<script>` æ¨™ç±¤å¼•å…¥ï¼ˆIIFE æ¨¡å¼ï¼‰
- æ‰€æœ‰ä¾è³´ç”¨å…¨å±€å°è±¡ï¼ˆ`window.Vue`ï¼‰
- æ¨¡æ¿ç”¨å­—ä¸²è€Œé `.vue` æª”æ¡ˆ
- é›¢ç·š = é›¶å¤–éƒ¨è«‹æ±‚

---

## ğŸ“ æ”¯æ´

å¦‚æœæ¸¬è©¦å¤±æ•—ï¼Œæä¾›ä»¥ä¸‹è³‡è¨Šï¼š
1. Console å®Œæ•´éŒ¯èª¤è¨Šæ¯
2. ç€è¦½å™¨ç‰ˆæœ¬
3. ä½œæ¥­ç³»çµ±
4. æ˜¯å¦åŸ·è¡Œäº† `python3 download_libs.py`
